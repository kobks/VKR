
#:import ScrollEffect  kivy.effects.scroll.ScrollEffect

<ItemLabel@Label>:
    font_size: "25sp"
    halign: "left"
    valign: "middle"
    text_size: self.size
    background_color: (1, 1, 1, 1)
    size_hint: 1, 0.1

ScreenManager:
    id: screen_manager
    InfoScreen:
        id: info_screen
        name: 'info'
        manager: 'screen_manager'
    ProgramScreen:
        id: program_screen
        name: 'program'
        manager: 'screen_manager'
    MapScreen:
        id: map_screen
        name: 'map'
        manager: 'screen_manager'
    HistoryScreen:
        id: history_screen
        name: 'history'
        manager: 'screen_manager'
    CalScreen:
        id: cal_screen
        name: 'cal'
        manager: 'screen_manager'
    GraphsScreen:
        id: graphs_screen
        name: 'graphs'
        manager: 'screen_manager'
    GPSScreen:
        id: gps_screen
        name: 'gps'
        manager: 'screen_manager'
    HeartRateScreen:
        id: hr_screen
        name: 'hr'
        manager: 'screen_manager'

<InfoScreen>:

    text_input_age: text_input_age
    text_input_height: text_input_height
    text_input_weight: text_input_weight
    text_input_gender: text_input_gender
    text_output_BMI: text_output_BMI
    text_output_calorie: text_output_calorie


    BoxLayout:
        orientation: "vertical"

        AnchorLayout:
            size_hint: 1, 0.1
            padding: [0, 0, 0, 0]
            anchor_x: "center"
            anchor_y: "top"
            Label:
                text: "Welcome"
                font_size: "42sp"
                background_color: (1, 1, 1, 1)
                canvas.before:
                    Color:
                        rgba: self.background_color
                    Rectangle:
                        size: self.size
                        pos: self.pos
                color: (0, 0, 0, 1)


        ScrollView:

            do_scroll_x: True
            do_scroll_y: False
            size_hint_y: 0.05
            BoxLayout:
                size_hint: (1.2, 1)

                Button:
                    text: 'Info'
                    on_press: app.root.current = 'info'
                Button:
                    font_size: "13sp"
                    text: 'Program'
                    on_press: app.root.current = 'program'
                Button:
                    text: 'Map'
                    on_press: app.root.current = 'map'
                Button:
                    text: 'Gyms'
                    on_press: app.root.current = 'gps'
                Button:
                    text: 'History'
                    on_press: app.root.current = 'history'
                Button:
                    text: 'Calories'
                    on_press: app.root.current = 'cal'
                Button:
                    text: 'Analysis'
                    on_press: app.root.current = 'graphs'
                Button:
                    text: 'HR'
                    on_press: app.root.current = 'hr'
                Button:
                    text: 'Quit'

        ScrollView:
            do_scroll_x: False
            do_scroll_y: True

            BoxLayout:
                size_hint_y: 1
                orientation: "vertical"
                padding: [3, 3, 3, 3]
                spacing: 3

                BoxLayout:

                    Label:
                        text: "Name"

                        size_hint: (0.2, 1)
                        background_color: (1, 1, 1, 1)
                        canvas.before:
                            Color:
                                rgba: self.background_color
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        color: (0, 0, 0, 1)
                    TextInput:
                        id: text_input_name

                        font_size: 30
                        size_hint: (.2, 1)
                        height: 30
                        multiline: False



                BoxLayout:
                    Label:
                        text: "Age"

                        size_hint: (0.2, 1)
                        background_color: (1, 1, 1, 1)
                        canvas.before:
                            Color:
                                rgba: self.background_color
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        color: (0, 0, 0, 1)
                    TextInput:
                        id: text_input_age

                        font_size: 30
                        size_hint: (.2, 1)

                        height: 30
                        multiline: False
                        input_type: "number"
                        input_filter: "int"

                BoxLayout:
                    Label:
                        text: "Height (in cm)"
                        background_color: (1, 1, 1, 1)
                        canvas.before:
                            Color:
                                rgba: self.background_color
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        color: (0, 0, 0, 1)
                    TextInput:
                        id: text_input_height
                        halign: "center"

                        font_size: 30
                        size_hint: (.2, 1)

                        height: 30
                        multiline: False
                        input_type: "number"
                        input_filter: "int"

                BoxLayout:

                    Label:
                        text: "Weight (in kg)"
                        background_color: (1, 1, 1, 1)
                        canvas.before:
                            Color:
                                rgba: self.background_color
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        color: (0, 0, 0, 1)
                    TextInput:
                        id: text_input_weight
                        halign: "center"
                        font_size: 30
                        size_hint: (.2, 1)

                        height: 30
                        multiline: False
                        input_type: "number"
                        input_filter: "int"

                BoxLayout:

                    Label:
                        text: "Gender (M or F)"
                        background_color: (1, 1, 1, 1)
                        canvas.before:
                            Color:
                                rgba: self.background_color
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        color: (0, 0, 0, 1)
                    TextInput:
                        id: text_input_gender
                        halign: "center"
                        font_size: 30
                        size_hint: (.2, 1)

                        height: 30
                        multiline: False
                BoxLayout:

                    Label:
                        text: "BMI (calculated automatically)"
                        background_color: (1, 1, 1, 1)
                        size_hint: (0.2, 1)
                        canvas.before:
                            Color:
                                rgba: self.background_color
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        color: (0, 0, 0, 1)
                    Label:
                        id: text_output_BMI
                        font_size: 30
                        size_hint: (.2, 1)

                        height: 30

                BoxLayout:

                    Label:
                        text: "Calories intake (suggested)"
                        background_color: (1, 1, 1, 1)
                        size_hint: (0.2, 1)
                        canvas.before:
                            Color:
                                rgba: self.background_color
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        color: (0, 0, 0, 1)
                    Label:
                        id: text_output_calorie
                        font_size: 30
                        size_hint: (.2, 1)

                        height: 30
                        multiline: False



                BoxLayout:
                    Button:
                        text: "Calculate BMI and Calorie intake"
                        font_size: 20

                        on_release:
                            root.calculate_bmi_cal()

<ProgramScreen>:
    mg_abdo: mg_abdo
    mg_addu: mg_addu
    mg_abdu: mg_abdu
    mg_bice: mg_bice
    mg_calv: mg_calv
    mg_ches: mg_ches
    mg_fore: mg_fore
    mg_fore: mg_fore
    mg_glut: mg_glut
    mg_hams: mg_hams
    mg_lats: mg_lats
    mg_lbac: mg_lbac
    mg_mbac: mg_mbac
    mg_trap: mg_trap
    mg_neck: mg_neck
    mg_quad: mg_quad
    mg_shou: mg_shou
    mg_tric: mg_tric


    BoxLayout:
        orientation: "vertical"

        AnchorLayout:
            size_hint: 1, 0.1
            padding: [0, 0, 0, 0]
            anchor_x: "center"
            anchor_y: "top"
            Label:
                text: "Suggested program"
                font_size: "20sp"
                background_color: (1, 1, 1, 1)
                canvas.before:
                    Color:
                        rgba: self.background_color
                    Rectangle:
                        size: self.size
                        pos: self.pos
                color: (0, 0, 0, 1)


        ScrollView:

            do_scroll_x: True
            do_scroll_y: False
            size_hint_y: 0.05
            BoxLayout:
                size_hint: (1.2, 1)

                Button:
                    text: 'Info'
                    on_press: root.dummy_data()
                Button:
                    font_size: "13sp"
                    text: 'Program'
                    on_press: app.root.current = 'program'
                Button:
                    text: 'Map'
                    on_press: app.root.current = 'map'
                Button:
                    text: 'Gyms'
                    on_press: app.root.current = 'gps'
                Button:
                    text: 'History'
                    on_press: app.root.current = 'history'
                Button:
                    text: 'Calories'
                    on_press: app.root.current = 'cal'
                Button:
                    text: 'Analysis'
                    on_press: app.root.current = 'graphs'
                Button:
                    text: 'HR'
                    on_press: app.root.current = 'hr'
                Button:
                    text: 'Quit'

        BoxLayout:
            rows: 25
            size_hint_y: 0.9
            orientation: "vertical"
            padding: [3, 3, 3, 3]
            spacing: 3


            BoxLayout:
                Label:
                    text: "For Abdominals recommend:"
                    background_color: (1, 1, 1, 1)
                    size_hint: (0.8, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                Label:
                    id: mg_abdo

            BoxLayout:
                Label:
                    text: "For Adductors recommend:"
                    background_color: (1, 1, 1, 1)
                    size_hint: (0.8, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                Label:
                    id: mg_addu

            BoxLayout:
                Label:
                    text: "For Abductors recommend:"
                    background_color: (1, 1, 1, 1)
                    size_hint: (0.8, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                Label:
                    id: mg_abdu

            BoxLayout:
                Label:
                    text: "For Biceps recommend:"
                    background_color: (1, 1, 1, 1)
                    size_hint: (0.8, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                Label:
                    id: mg_bice

            BoxLayout:
                Label:
                    text: "For Calves recommend:"
                    background_color: (1, 1, 1, 1)
                    size_hint: (0.8, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                Label:
                    id: mg_calv

            BoxLayout:
                Label:
                    text: "For Chest recommend:"
                    background_color: (1, 1, 1, 1)
                    size_hint: (0.8, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                Label:
                    id: mg_ches

            BoxLayout:
                Label:
                    text: "For Forearms recommend:"
                    background_color: (1, 1, 1, 1)
                    size_hint: (0.8, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                Label:
                    id: mg_fore

            BoxLayout:
                Label:
                    text: "For Glutes recommend:"
                    background_color: (1, 1, 1, 1)
                    size_hint: (0.8, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                Label:
                    id: mg_glut

            BoxLayout:
                Label:
                    text: "For Hamstrings recommend:"
                    background_color: (1, 1, 1, 1)
                    size_hint: (0.8, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                Label:
                    id: mg_hams

            BoxLayout:
                Label:
                    text: "For Lats recommend:"
                    background_color: (1, 1, 1, 1)
                    size_hint: (0.8, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                Label:
                    id: mg_lats

            BoxLayout:
                Label:
                    text: "For Lower Back recommend:"
                    background_color: (1, 1, 1, 1)
                    size_hint: (0.8, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                Label:
                    id: mg_lbac

            BoxLayout:
                Label:
                    text: "For Middle Back recommend:"
                    background_color: (1, 1, 1, 1)
                    size_hint: (0.8, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                Label:
                    id: mg_mbac

            BoxLayout:
                Label:
                    text: "For Traps recommend:"
                    background_color: (1, 1, 1, 1)
                    size_hint: (0.8, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                Label:
                    id: mg_trap

            BoxLayout:
                Label:
                    text: "For Neck recommend:"
                    background_color: (1, 1, 1, 1)
                    size_hint: (0.8, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                Label:
                    id: mg_neck

            BoxLayout:
                Label:
                    text: "For Quadriceps recommend:"
                    background_color: (1, 1, 1, 1)
                    size_hint: (0.8, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                Label:
                    id: mg_quad

            BoxLayout:
                Label:
                    text: "For Shoulders recommend:"
                    background_color: (1, 1, 1, 1)
                    size_hint: (0.8, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                Label:
                    id: mg_shou

            BoxLayout:
                Label:
                    text: "For Triceps recommend:"
                    background_color: (1, 1, 1, 1)
                    size_hint: (0.8, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                Label:
                    id: mg_tric

            BoxLayout:

                Label:
                    size_hint: 0.3, 1
                    text: "Desired goals (Strength, Plyometrics, Cardio, Stretching, \nPowerlifting, Strongman, Olympic Weightlifting)"
                    background_color: (1, 1, 1, 1)
                    multiline: True
                    font_size: "11sp"
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                TextInput:
                    id: text_input_goals

                    size_hint: (.2, 1)
                    height: 30
                    multiline: False

            BoxLayout:

                size_hint: 1, 1.5
                Label:
                    size_hint: 0.3, 1
                    text: "Equipment preferred (Bands, Barbell, Kettlebells, Dumbbell, \nCable, Machine, Body Only, Medicine Ball, \nExercise Ball, Foam Roll, E-Z Curl Bar)"
                    background_color: (1, 1, 1, 1)
                    font_size: "11sp"
                    multiline: True
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                TextInput:
                    id: text_input_equip

                    size_hint: (.2, 1)
                    height: 30
                    multiline: False

            BoxLayout:

                Label:
                    size_hint: 0.3, 1
                    text: "Level (Beginner, Intermediate, Expert)"
                    background_color: (1, 1, 1, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                TextInput:
                    id: text_input_level

                    size_hint: (.2, 1)
                    height: 30
                    multiline: False

            BoxLayout:
                Button:
                    text: "Generate program"
                    font_size: 20

                    on_release:
                        root.generate_program()


<ContainerFitApp>:
    orientation: "vertical"

    text_input_age: text_input_age
    text_input_height: text_input_height
    text_input_weight: text_input_weight
    text_input_gender: text_input_gender
    text_output_BMI: text_output_BMI
    text_output_calorie: text_output_calorie



    BoxLayout:


        orientation: "vertical"

        AnchorLayout:
            size_hint: 1, 0.1
            padding: [0, 0, 0, 0]
            anchor_x: "center"
            anchor_y: "top"
            Label:
                text: "Welcome"
                font_size: "42sp"
                background_color: (1, 1, 1, 1)
                canvas.before:
                    Color:
                        rgba: self.background_color
                    Rectangle:
                        size: self.size
                        pos: self.pos
                color: (0, 0, 0, 1)

        ScrollView:
            do_scroll_x: False
            do_scroll_y: True

            BoxLayout:
                size_hint_y: 1
                orientation: "vertical"
                padding: [3, 3, 3, 3]
                spacing: 3

                BoxLayout:

                    Label:
                        text: "Name"

                        size_hint: (0.2, 1)
                        background_color: (1, 1, 1, 1)
                        canvas.before:
                            Color:
                                rgba: self.background_color
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        color: (0, 0, 0, 1)
                    TextInput:
                        id: text_input_name

                        pos_hint: {'center_x': 1, 'y': 0.35}
                        size_hint: (.2, None)
                        height: 30
                        multiline: False



                BoxLayout:
                    Label:
                        text: "Age"

                        size_hint: (0.2, 1)
                        background_color: (1, 1, 1, 1)
                        canvas.before:
                            Color:
                                rgba: self.background_color
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        color: (0, 0, 0, 1)
                    TextInput:
                        id: text_input_age

                        pos_hint: {'center_x': 1, 'y': 0.35}
                        size_hint: (.2, None)
                        height: 30
                        multiline: False
                        input_type: "number"
                        input_filter: "int"

                BoxLayout:
                    Label:
                        text: "Height (in cm)"
                        background_color: (1, 1, 1, 1)
                        canvas.before:
                            Color:
                                rgba: self.background_color
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        color: (0, 0, 0, 1)
                    TextInput:
                        id: text_input_height

                        pos_hint: {'center_x': 1, 'y': 0.35}
                        size_hint: (.2, None)
                        height: 30
                        multiline: False
                        input_type: "number"
                        input_filter: "int"

                BoxLayout:

                    Label:
                        text: "Weight (in kg)"
                        background_color: (1, 1, 1, 1)
                        canvas.before:
                            Color:
                                rgba: self.background_color
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        color: (0, 0, 0, 1)
                    TextInput:
                        id: text_input_weight

                        pos_hint: {'center_x': 1, 'y': 0.35}
                        size_hint: (.2, None)
                        height: 30
                        multiline: False
                        input_type: "number"
                        input_filter: "int"

                BoxLayout:

                    Label:
                        text: "Gender (M or F)"
                        background_color: (1, 1, 1, 1)
                        canvas.before:
                            Color:
                                rgba: self.background_color
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        color: (0, 0, 0, 1)
                    TextInput:
                        id: text_input_gender

                        pos_hint: {'center_x': 1, 'y': 0.35}
                        size_hint: (.2, None)
                        height: 30
                        multiline: False
                BoxLayout:

                    Label:
                        text: "BMI (calculated automatically)"
                        background_color: (1, 1, 1, 1)
                        size_hint: (0.2, 1)
                        canvas.before:
                            Color:
                                rgba: self.background_color
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        color: (0, 0, 0, 1)
                    Label:
                        id: text_output_BMI

                        pos_hint: {'center_x': 1, 'y': 0.35}
                        size_hint: (.2, None)
                        height: 30

                BoxLayout:

                    Label:
                        text: "Calories intake (suggested)"
                        background_color: (1, 1, 1, 1)
                        size_hint: (0.2, 1)
                        canvas.before:
                            Color:
                                rgba: self.background_color
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        color: (0, 0, 0, 1)
                    Label:
                        id: text_output_calorie

                        pos_hint: {'center_x': 1, 'y': 0.35}
                        size_hint: (.2, None)
                        height: 30
                        multiline: False


                BoxLayout:
                    Button:
                        text: "Calculate BMI and Calorie intake"
                        font_size: 20

                        on_release:
                            app.root.calculate_bmi_cal()



<MapScreen>:

    map_screenshot: map_screenshot

    BoxLayout:
        orientation: "vertical"

        AnchorLayout:
            size_hint: 1, 0.1
            padding: [0, 0, 0, 0]
            anchor_x: "center"
            anchor_y: "top"
            Label:
                text: "Map"
                font_size: "42sp"
                background_color: (1, 1, 1, 1)
                canvas.before:
                    Color:
                        rgba: self.background_color
                    Rectangle:
                        size: self.size
                        pos: self.pos
                color: (0, 0, 0, 1)


        ScrollView:

            do_scroll_x: True
            do_scroll_y: False
            size_hint_y: 0.05
            BoxLayout:
                size_hint: (1.2, 1)

                Button:
                    text: 'Info'
                    on_press: app.root.current = 'info'
                Button:
                    font_size: "13sp"
                    text: 'Program'
                    on_press: app.root.current = 'program'
                Button:
                    text: 'Map'
                    on_press: app.root.current = 'map'
                Button:
                    text: 'Gyms'
                    on_press: app.root.current = 'gps'
                Button:
                    text: 'History'
                    on_press: app.root.current = 'history'
                Button:
                    text: 'Calories'
                    on_press: app.root.current = 'cal'
                Button:
                    text: 'Analysis'
                    on_press: app.root.current = 'graphs'
                Button:
                    text: 'HR'
                    on_press: app.root.current = 'hr'
                Button:
                    text: 'Quit'


        BoxLayout:
            size_hint: 1, 0.05
            Button:
                text: "Show nearby gyms"
                font_size: 20

                on_release:
                    root.get_coords()


        BoxLayout:
            AsyncImage:
                id: map_screenshot
                source: ''
                width: 100
                allow_stretch: True


<GPSScreen>:
    notif_label: notif_label
    map_screenshot_gps: map_screenshot_gps

    BoxLayout:
        orientation: "vertical"

        AnchorLayout:
            size_hint: 1, 0.1
            padding: [0, 0, 0, 0]
            anchor_x: "center"
            anchor_y: "top"
            Label:
                id: notif_label
                text: "Map"
                font_size: "42sp"
                background_color: (1, 1, 1, 1)
                canvas.before:
                    Color:
                        rgba: self.background_color
                    Rectangle:
                        size: self.size
                        pos: self.pos
                color: (0, 0, 0, 1)


        ScrollView:

            do_scroll_x: True
            do_scroll_y: False
            size_hint_y: 0.05
            BoxLayout:
                size_hint: (1.2, 1)

                Button:
                    text: 'Info'
                    on_press: app.root.current = 'info'
                Button:
                    font_size: "13sp"
                    text: 'Program'
                    on_press: app.root.current = 'program'
                Button:
                    text: 'Map'
                    on_press: app.root.current = 'map'
                Button:
                    text: 'Gyms'
                    on_press: app.root.current = 'gps'
                Button:
                    text: 'History'
                    on_press: app.root.current = 'history'
                Button:
                    text: 'Calories'
                    on_press: app.root.current = 'cal'
                Button:
                    text: 'Analysis'
                    on_press: app.root.current = 'graphs'
                Button:
                    text: 'HR'
                    on_press: app.root.current = 'hr'
                Button:
                    text: 'Quit'


        BoxLayout:
            size_hint: 1, 0.05
            Button:
                text: "Show nearby gyms"
                font_size: 20

                on_release:
                    root.get_coords()


        BoxLayout:
            Image:
                nocache: True
                id: map_screenshot_gps
                source: ''
                width: 100
                allow_stretch: True
                on_touch_down: root.update_map()



<HistoryScreen>:

    text_input_tr_name: text_input_tr_name
    text_input_tr_num: text_input_tr_num
    text_input_tr_reps: text_input_tr_reps
    text_input_tr_weight: text_input_tr_weight
    text_input_tr_rest: text_input_tr_rest

    history_output_1: history_output_1
    history_output_2: history_output_2
    history_output_3: history_output_3
    history_output_4: history_output_4
    history_output_5: history_output_5
    history_output_6: history_output_6
    history_output_7: history_output_7
    history_output_8: history_output_8
    history_output_9: history_output_9
    history_output_10: history_output_10
    history_output_11: history_output_11
    history_output_12: history_output_12
    history_output_13: history_output_13
    history_output_14: history_output_14
    history_output_15: history_output_15
    history_output_16: history_output_16
    history_output_17: history_output_17
    history_output_18: history_output_18
    history_output_19: history_output_19
    history_output_20: history_output_20
    history_output_21: history_output_21
    history_output_22: history_output_22
    history_output_23: history_output_23
    history_output_24: history_output_24
    history_output_25: history_output_25
    history_output_26: history_output_26
    history_output_27: history_output_27
    history_output_28: history_output_28
    history_output_29: history_output_29
    history_output_30: history_output_30
    history_output_31: history_output_31
    history_output_32: history_output_32
    history_output_33: history_output_33
    history_output_34: history_output_34
    history_output_35: history_output_35
    history_output_36: history_output_36
    history_output_37: history_output_37
    history_output_38: history_output_38
    history_output_39: history_output_39
    history_output_40: history_output_40
    exec_recom: exec_recom

    BoxLayout:
        orientation: "vertical"

        Label:
            size_hint: 1, 0.2
            text: "Welcome"
            font_size: "42sp"
            background_color: (1, 1, 1, 1)
            canvas.before:
                Color:
                    rgba: self.background_color
                Rectangle:
                    size: self.size
                    pos: self.pos
            color: (0, 0, 0, 1)

        ScrollView:

            do_scroll_x: True
            do_scroll_y: False
            size_hint_y: 0.1
            BoxLayout:
                size_hint: (1.2, 1)

                Button:
                    text: 'Info'
                    on_press: app.root.current = 'info'
                Button:
                    font_size: "13sp"
                    text: 'Program'
                    on_press: app.root.current = 'program'
                Button:
                    text: 'Map'
                    on_press: app.root.current = 'map'
                Button:
                    text: 'Gyms'
                    on_press: app.root.current = 'gps'
                Button:
                    text: 'History'
                    on_press: app.root.current = 'history'
                Button:
                    text: 'Calories'
                    on_press: app.root.current = 'cal'
                Button:
                    text: 'Analysis'
                    on_press: app.root.current = 'graphs'
                Button:
                    text: 'HR'
                    on_press: app.root.current = 'hr'
                Button:
                    text: 'Quit'

        BoxLayout:
            size_hint_y: 0.3
            orientation: "vertical"
            padding: [3, 3, 3, 3]
            spacing: 3

            BoxLayout:
                size_hint: (1, 0.4)
                Label:
                    text: "Exercise name"

                    size_hint: (0.2, 1)
                    background_color: (1, 1, 1, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                TextInput:
                    id: text_input_tr_name

                    size_hint: (.2, 1)
                    height: 30
                    font_size: 13
                    multiline: False

            BoxLayout:
                size_hint: (1, 0.4)
                Label:
                    text: "Training number"

                    size_hint: (0.2, 1)
                    background_color: (1, 1, 1, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                TextInput:
                    id: text_input_tr_num

                    size_hint: (.2, 1)
                    height: 30
                    font_size: 13
                    multiline: False



            BoxLayout:
                size_hint: (1, 0.4)
                Label:
                    text: "Reps"

                    size_hint: (0.2, 1)
                    background_color: (1, 1, 1, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                TextInput:
                    id: text_input_tr_reps

                    size_hint: (.2, 1)
                    height: 20
                    font_size: 13
                    multiline: False
                    input_type: "number"
                    input_filter: "int"

            BoxLayout:
                size_hint: (1, 0.4)
                Label:
                    size_hint: (0.2, 1)
                    text: "Weight (in kg)"
                    background_color: (1, 1, 1, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                TextInput:
                    id: text_input_tr_weight

                    size_hint: (.2, 1)
                    height: 20
                    font_size: 13
                    multiline: False
                    input_type: "number"

            BoxLayout:
                size_hint: (1, 0.4)
                Label:
                    size_hint: (0.2, 1)
                    text: "Rest"
                    background_color: (1, 1, 1, 1)
                    canvas.before:
                        Color:
                            rgba: self.background_color
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    color: (0, 0, 0, 1)
                TextInput:
                    id: text_input_tr_rest

                    size_hint: (.2, 1)
                    height: 20
                    font_size: 13
                    multiline: False
                    input_type: "number"
                    input_filter: "int"

        BoxLayout:
            orientation: "vertical"

            BoxLayout:
                size_hint: 1, 0.1
                Button:
                    text: "Add exercise"
                    on_press: root.add_exec()

            BoxLayout:
                size_hint: 1, 0.2
                Label:
                    id: exec_recom
                    font_size: "13sp"
                    text: "Recommendations to alter exercises"

            BoxLayout:
                size_hint: 1, 0.1
                Button:
                    text: "Show history"
                    on_press: root.show_history()

            ScrollView:
                do_scroll_x: True
                do_scroll_y: True
                effect_cls: ScrollEffect

                BoxLayout:
                    spacing: 40
                    pos_hint: 'top'
                    size_hint_x: 30
                    size_hint_y: 5

                    Label:
                        id: history_output_1

                        size_hint: (1, None)

                    Label:
                        id: history_output_2

                        size_hint: (1, None)
                    Label:
                        id: history_output_3

                        size_hint: (1, None)
                    Label:
                        id: history_output_4

                        size_hint: (1, None)
                    Label:
                        id: history_output_5

                        size_hint: (1, None)
                    Label:
                        id: history_output_6

                        size_hint: (1, None)
                    Label:
                        id: history_output_7

                        size_hint: (1, None)
                    Label:
                        id: history_output_8

                        size_hint: (1, None)
                    Label:
                        id: history_output_9

                        size_hint: (1, None)
                    Label:
                        id: history_output_10

                        size_hint: (1, None)
                    Label:
                        id: history_output_11

                        size_hint: (1, None)
                    Label:
                        id: history_output_12

                        size_hint: (1, None)
                    Label:
                        id: history_output_13

                        size_hint: (1, None)
                    Label:
                        id: history_output_14

                        size_hint: (1, None)
                    Label:
                        id: history_output_15

                        size_hint: (1, None)
                    Label:
                        id: history_output_16

                        size_hint: (1, None)
                    Label:
                        id: history_output_17

                        size_hint: (1, None)
                    Label:
                        id: history_output_18

                        size_hint: (1, None)
                    Label:
                        id: history_output_19

                        size_hint: (1, None)
                    Label:
                        id: history_output_20

                        size_hint: (1, None)
                    Label:
                        id: history_output_21

                        size_hint: (1, None)
                    Label:
                        id: history_output_22

                        size_hint: (1, None)
                    Label:
                        id: history_output_23

                        size_hint: (1, None)
                    Label:
                        id: history_output_24


                        size_hint: (1, None)
                    Label:
                        id: history_output_25


                        size_hint: (1, None)
                    Label:
                        id: history_output_26


                        size_hint: (1, None)
                    Label:
                        id: history_output_27


                        size_hint: (1, None)
                    Label:
                        id: history_output_28


                        size_hint: (1, None)
                    Label:
                        id: history_output_29


                        size_hint: (1, None)
                    Label:
                        id: history_output_30


                        size_hint: (1, None)
                    Label:
                        id: history_output_31


                        size_hint: (1, None)
                    Label:
                        id: history_output_32


                        size_hint: (1, None)
                    Label:
                        id: history_output_33


                        size_hint: (1, None)
                    Label:
                        id: history_output_34


                        size_hint: (1, None)
                    Label:
                        id: history_output_35


                        size_hint: (1, None)
                    Label:
                        id: history_output_36


                        size_hint: (1, None)
                    Label:
                        id: history_output_37


                        size_hint: (1, None)
                    Label:
                        id: history_output_38


                        size_hint: (1, None)
                    Label:
                        id: history_output_39


                        size_hint: (1, None)
                    Label:
                        id: history_output_40


                        size_hint: (1, None)
        Label:
            text: ""

            size_hint: (1, None)


<CalScreen>:
    text_cal_limit: text_cal_limit
    text_input_cal_limit: text_input_cal_limit
    text_input_foods: text_input_foods
    cals_result: cals_result

    BoxLayout:
        orientation: "vertical"

        AnchorLayout:
            size_hint: 1, 0.1
            padding: [0, 0, 0, 0]
            anchor_x: "center"
            anchor_y: "top"
            Label:
                text: "Calories management"
                font_size: "42sp"
                background_color: (1, 1, 1, 1)
                canvas.before:
                    Color:
                        rgba: self.background_color
                    Rectangle:
                        size: self.size
                        pos: self.pos
                color: (0, 0, 0, 1)


        ScrollView:

            do_scroll_x: True
            do_scroll_y: False
            size_hint_y: 0.1
            BoxLayout:
                size_hint: (1.2, 1)

                Button:
                    text: 'Info'
                    on_press: app.root.current = 'info'
                Button:
                    font_size: "13sp"
                    text: 'Program'
                    on_press: app.root.current = 'program'
                Button:
                    text: 'Map'
                    on_press: app.root.current = 'map'
                Button:
                    text: 'Gyms'
                    on_press: app.root.current = 'gps'
                Button:
                    text: 'History'
                    on_press: app.root.current = 'history'
                Button:
                    text: 'Calories'
                    on_press: app.root.current = 'cal'
                Button:
                    text: 'Analysis'
                    on_press: app.root.current = 'graphs'
                Button:
                    text: 'HR'
                    on_press: app.root.current = 'hr'
                Button:
                    text: 'Quit'

        BoxLayout:
            size_hint: 1, 0.3

            orientation: "vertical"

            Label:
                size_hint: 1, 0.2
                id: text_cal_limit
                font_size: "20sp"
                text: "Current calories limit: 3000"

            BoxLayout:
                size_hint: 1, 0.1

                TextInput:
                    id: text_input_cal_limit

                    size_hint: (.2, 1)
                    height: 30
                    multiline: False


                Button:
                    text: 'Change limit'
                    on_press: root.change_limit()
        BoxLayout:
            orientation: "vertical"
            TextInput:
                id: text_input_foods
                hint_text: "Enter eaten food here"

                size_hint: (1, None)
                height: 120
                multiline: True

            Button:
                size_hint: 1, 0.2
                text: "Calculate"
                on_press: root.calculate_calories()

            ScrollView:

                do_scroll_x: False
                do_scroll_y: True

                Label:
                    size_hint: 0.9, 4
                    text: "Calories result"
                    id: cals_result
                    name: "Here the results of daily calorie calculation will be"



<GraphsScreen>:
    r_graph: r_graph
    w_graph: w_graph

    BoxLayout:
        orientation: "vertical"

        AnchorLayout:
            size_hint: 1, 0.1
            padding: [0, 0, 0, 0]
            anchor_x: "center"
            anchor_y: "top"
            Label:
                text: "Analysis"
                font_size: "42sp"
                background_color: (1, 1, 1, 1)
                canvas.before:
                    Color:
                        rgba: self.background_color
                    Rectangle:
                        size: self.size
                        pos: self.pos
                color: (0, 0, 0, 1)


        ScrollView:

            do_scroll_x: True
            do_scroll_y: False
            size_hint_y: 0.07
            BoxLayout:
                size_hint: (1.2, 1)

                Button:
                    text: 'Info'
                    on_press: app.root.current = 'info'
                Button:
                    font_size: "13sp"
                    text: 'Program'
                    on_press: app.root.current = 'program'
                Button:
                    text: 'Map'
                    on_press: app.root.current = 'map'
                Button:
                    text: 'Gyms'
                    on_press: app.root.current = 'gps'
                Button:
                    text: 'History'
                    on_press: app.root.current = 'history'
                Button:
                    text: 'Calories'
                    on_press: app.root.current = 'cal'
                Button:
                    text: 'Analysis'
                    on_press: app.root.current = 'graphs'
                Button:
                    text: 'HR'
                    on_press: app.root.current = 'hr'
                Button:
                    text: 'Quit'

        Button:
            size_hint: 1, 0.2
            text: "Analyse"
            on_press: root.create_graphs()


        ScrollView:
            do_scroll_x: False
            do_scroll_y: True
            effect_cls: ScrollEffect
            BoxLayout:
                size_hint: 1, 2
                orientation: "vertical"

                Image:
                    id: w_graph
                    source: ""

                Image:
                    id: r_graph
                    source: ""



<HeartRateScreen>:
    hr_data: hr_data
    BoxLayout:
        orientation: "vertical"

        AnchorLayout:
            size_hint: 1, 0.3
            padding: [0, 0, 0, 0]
            anchor_x: "center"
            anchor_y: "top"
            Label:
                text: "Heart rate analysis"
                font_size: "42sp"
                background_color: (1, 1, 1, 1)
                canvas.before:
                    Color:
                        rgba: self.background_color
                    Rectangle:
                        size: self.size
                        pos: self.pos
                color: (0, 0, 0, 1)


        ScrollView:

            do_scroll_x: True
            do_scroll_y: False
            size_hint_y: 0.07
            BoxLayout:
                size_hint: (1.2, 1)

                Button:
                    text: 'Info'
                    on_press: app.root.current = 'info'
                Button:
                    font_size: "13sp"
                    text: 'Program'
                    on_press: app.root.current = 'program'
                Button:
                    text: 'Map'
                    on_press: app.root.current = 'map'
                Button:
                    text: 'Gyms'
                    on_press: app.root.current = 'gps'
                Button:
                    text: 'History'
                    on_press: app.root.current = 'history'
                Button:
                    text: 'Calories'
                    on_press: app.root.current = 'cal'
                Button:
                    text: 'Analysis'
                    on_press: app.root.current = 'graphs'
                Button:
                    text: 'HR'
                    on_press: app.root.current = 'hr'
                Button:
                    text: 'Quit'

        BoxLayout:
            size_hint: 1, 0.05
            Label:
                text: "Enter UID"

                size_hint: (0.2, 1)
                background_color: (1, 1, 1, 1)
                canvas.before:
                    Color:
                        rgba: self.background_color
                    Rectangle:
                        size: self.size
                        pos: self.pos
                color: (0, 0, 0, 1)
            TextInput:
                id: text_UID_ha

                size_hint: (.2, 1)
                height: 30
                multiline: False

        Button:
            size_hint: 1, 0.1
            text: 'Get data'
            on_press: root.anal_hr()

        Label:
            id: hr_data
            text: ""